<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="WhibO - Connect with random people anonymously. Safe, secure, and instant messaging with strangers worldwide.">
    <meta name="keywords" content="anonymous chat, random chat, stranger chat, whibo, secure messaging">
    <meta name="author" content="WhibO Team">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://whibo.onrender.com/">
    <meta property="og:title" content="WhibO - Anonymous Chat Platform">
    <meta property="og:description" content="Connect with random people anonymously. Safe, secure, and instant messaging.">
    <meta property="og:image" content="/manifest-icon-512.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://whibo.onrender.com/">
    <meta property="twitter:title" content="WhibO - Anonymous Chat Platform">
    <meta property="twitter:description" content="Connect with random people anonymously. Safe, secure, and instant messaging.">
    <meta property="twitter:image" content="/manifest-icon-512.png">

    <title>WhibO - Connect with Random People Anonymously</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí¨</text></svg>">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <h1 class="logo">
                    <div class="logo-container">
                        <div class="logo-icon">
                            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="logo-svg">
                                <defs>
                                    <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#667eea"/>
                                        <stop offset="100%" style="stop-color:#764ba2"/>
                                    </linearGradient>
                                </defs>
                                <circle cx="30" cy="30" r="25" fill="url(#logoGradient)" opacity="0.8"/>
                                <circle cx="70" cy="70" r="25" fill="url(#logoGradient)" opacity="0.9"/>
                                <path d="M30 30 Q50 20 70 70" stroke="white" stroke-width="3" fill="none" opacity="0.7"/>
                                <circle cx="50" cy="50" r="8" fill="white"/>
                            </svg>
                        </div>
                        <span class="logo-text">WhibO</span>
                    </div>
                </h1>
                <div class="header-stats">
                    <span class="online-count">
                        <span class="status-dot"></span>
                        <span id="onlineCount">0</span> online
                    </span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Welcome Screen -->
                <div id="welcomeScreen" class="screen active">
                    <div class="welcome-card">
                        <div class="welcome-icon">üåü</div>
                        <h2>Welcome to WhibO</h2>
                        <p>Connect with random people from around the world. Have interesting conversations while staying completely anonymous.</p>
                        
                        <div class="features">
                            <div class="feature">
                                <span class="feature-icon">üîí</span>
                                <span>100% Anonymous</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">‚ö°</span>
                                <span>Instant Matching</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üõ°Ô∏è</span>
                                <span>Safe & Secure</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üåç</span>
                                <span>Global Connections</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üì±</span>
                                <span>Mobile Optimized</span>
                            </div>
                            <div class="feature">
                                <span class="feature-icon">üé®</span>
                                <span>Modern Design</span>
                            </div>
                        </div>

                        <div class="user-info" id="userInfo">
                            <p>You will be known as: <strong id="userName"></strong></p>
                        </div>

                        <button id="startChatBtn" class="btn btn-primary btn-large">
                            Start Chatting
                        </button>

                        <div class="disclaimer">
                            <p><small>By using this service, you agree to be respectful and follow our community guidelines.</small></p>
                        </div>
                    </div>
                </div>

                <!-- Waiting Screen -->
                <div id="waitingScreen" class="screen">
                    <div class="waiting-card">
                        <div class="loading-spinner"></div>
                        <h2>Looking for a chat partner...</h2>
                        <p>Please wait while we find someone for you to talk to.</p>
                        <button id="cancelWaitBtn" class="btn btn-secondary">Cancel</button>
                    </div>
                </div>

                <!-- Chat Screen -->
                <div id="chatScreen" class="screen">
                    <div class="chat-container">
                        <div class="chat-header">
                            <div class="partner-info">
                                <span class="partner-status">
                                    <span class="status-dot connected"></span>
                                    Connected to stranger
                                </span>
                            </div>
                            <div class="chat-actions">
                                <button id="endChatBtn" class="btn btn-danger btn-small">End Chat</button>
                            </div>
                        </div>

                        <div class="chat-messages" id="chatMessages">
                            <div class="system-message">
                                <span class="system-icon">üéâ</span>
                                You are now connected to a stranger. Say hello!
                            </div>
                        </div>

                        <div class="typing-indicator" id="typingIndicator">
                            <span class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </span>
                            <span class="typing-text">Stranger is typing...</span>
                        </div>

                        <div class="chat-input-container">
                            <div class="chat-input-wrapper">
                                <input 
                                    type="text" 
                                    id="messageInput" 
                                    placeholder="Type your message..." 
                                    maxlength="500"
                                    autocomplete="off"
                                >
                                <button id="sendBtn" class="btn btn-send" disabled>
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="22" y1="2" x2="11" y2="13"></line>
                                        <polygon points="22,2 15,22 11,13 2,9"></polygon>
                                    </svg>
                                </button>
                            </div>
                            <div class="char-counter">
                                <span id="charCount">0</span>/500
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Disconnected Screen -->
                <div id="disconnectedScreen" class="screen">
                    <div class="disconnected-card">
                        <div class="disconnected-icon">üò¢</div>
                        <h2>Chat Ended</h2>
                        <p id="disconnectReason">The stranger has left the chat.</p>
                        <div class="disconnect-actions">
                            <button id="newChatBtn" class="btn btn-primary">Start New Chat</button>
                            <button id="backHomeBtn" class="btn btn-secondary">Back to Home</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p>&copy; 2025 WhibO. Made with ‚ù§Ô∏è for connecting people safely & anonymously.</p>
            </div>
        </footer>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
